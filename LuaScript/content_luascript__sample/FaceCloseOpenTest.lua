-- β1テスト/[03]0901放課後_コミュ -----------------------------------------------------------------------

Include("content_luascript_system", "LuaCommonPack")
Include("content_luascript_common", "DemoCommonPack")
Include("content_luascript_common", "SceneCommonPack")

-- アセットなどを読み込む
function Load()
	demo_setup()
	load_scene("content_areascene_115014", "Area115014") -- ノワール教室：夕晴

	Noir = set_chara("content_chr_101009_101009002_model", "101009002_Model", "content_animationpack__common", "MotionPackBeta2", "content_animationpack__common", "FacialPack", CHARA3_AREA110011, "Sri_Std_loop_m", "Normal")
	character2D(Noir, "Noir", "content_chr_101009_101009002_face", "101009002_UnitFace", nil, nil, nil, nil)
	character2D(Noir, "Noir", "content_chr_101009_default_cutin", nil, "101009_UnitCutin", nil, nil, nil)
	character2D(Noir, "Noir", "content_chr_101009_101009002_thumb", nil, nil, "101009002_UnitThumb", nil, nil)
	character2D(Noir, "Noir", "content_chr_101009_101009002_full", nil, nil, nil, "101009002_UnitImage_Full", nil)
	character2D(Noir, "Noir", "content_chr_101009_101009002_hires", nil, nil, nil, nil, "101009002_UnitImage_HiRes")
	
	MAIN_CAMERA = set_camera(CAMERA_AREA110011)
end

-- シーケンスの実行
function Play()
	on_camera(MAIN_CAMERA)
	demo_start()

	open_narration_window()
	message_direct("アニメーターコントローラーのテスト")
	close_narration_window()
		
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Close")
	force_lipsync(Noir,"Close1")
	message_direct("目閉じ口閉じ1")
	close_speech_window()

	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Open")
	force_lipsync(Noir,"Open1")
	message_direct("目開け口開け1")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Close")
	force_lipsync(Noir,"Close2")
	message_direct("目閉じ口閉じ2")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Open")
	force_lipsync(Noir,"Open2")
	message_direct("目開け口開け2")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Close")
	force_lipsync(Noir,"Close1")
	message_direct("目閉じ口閉じ1")
	close_speech_window()

	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Open")
	force_lipsync(Noir,"Open1")
	message_direct("目開け口開け1")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Close")
	force_lipsync(Noir,"Close2")
	message_direct("目閉じ口閉じ2")
	close_speech_window()

	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Open")
	force_lipsync(Noir,"Open2")
	message_direct("目開け口開け2")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Close")
	force_lipsync(Noir,"Close1")
	message_direct("目閉じ口閉じ1")
	close_speech_window()
	
	open_speech_window("PLAYERNAME_NOIR", Noir, nil)
	force_eyesync(Noir,"Auto")
	force_lipsync(Noir,"Auto")
	message_direct("まばたき口パク")
	close_speech_window()
	
	demo_end()

end


function PreLoad()
	PreLoad_AutoGenerate()
	
	-- 手動追加時はここの下に追加してください。
end

function PreLoad_AutoGenerate()
--luaのインポート時にPreLoadする対象をLoadから自動検出して追加する
	load_scene_preload("content_areascene_115014", "Area115014")
	set_chara_preload("content_chr_101009_101009002_model", "101009002_Model", "content_animationpack__common", "MotionPackBeta2", "content_animationpack__common", "FacialPack", CHARA3_AREA110011, "Sri_Std_loop_m", "Normal")
end
